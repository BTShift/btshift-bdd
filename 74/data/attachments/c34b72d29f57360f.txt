🚀 [4c40fcc6] Setting up test with TenantAdmin context...
🎬 Starting test session: test-1757675712126-kxc26pe32 for feature: api-tenantadmin-test.feature
📋 Test context set: api-tenantadmin-test.feature :: API Test with TenantAdmin Context (positive)
🔄 Current step: Test Execution
🎬 Starting test session: test-1757675712126-iqb9qvzdx for feature: api-tenantadmin-multiauth.feature
📋 Test context set: api-tenantadmin-multiauth.feature :: API Test with TenantAdmin (MultiUserAuth) (positive)
🔄 Current step: Test Execution
🎬 Starting test session: test-1757675712126-a5427b15 for feature: api-tenantadmin-multiauth.feature
📋 Test context set: api-tenantadmin-multiauth.feature :: API Test with TenantAdmin (MultiUserAuth) (positive)
🔑 [tenantadmin-1757675712127] Starting TenantAdmin authentication...
🔐 [tenantadmin-1757675712127] Logging in as: test.tenantadmin@btshift.ma
🏢 [tenantadmin-1757675712127] Including tenant context: aef1fb0d-84fb-412d-97c8-06f7eb7f3846
🧪 Adding test context to POST /api/authentication/login
🧪 Test context JSON: {"featureFile":"api-tenantadmin-multiauth.feature","scenario":"API Test with TenantAdmin (MultiUserAuth)","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712126-iqb9qvzdx"}
🔍 [Identity] POST /api/authentication/login | X-Correlation-ID: 16c5025c-01c6-4133-92fd-1544a4603493 | Auth: No
✅ [Identity] POST /api/authentication/login | X-Correlation-ID: 16c5025c-01c6-4133-92fd-1544a4603493 | Success
✅ [tenantadmin-1757675712127] TenantAdmin authentication successful
🕐 [tenantadmin-1757675712127] Token expires at: 2025-09-12T11:23:12.505Z
🏢 [tenantadmin-1757675712127] Tenant ID: aef1fb0d-84fb-412d-97c8-06f7eb7f3846
🔐 Using TenantAdmin authentication (test.tenantadmin@btshift.ma)
✅ [4c40fcc6] Using TenantAdmin authentication
🕐 [4c40fcc6] Token expires: 11:23:12 AM
🏢 [4c40fcc6] Tenant ID: aef1fb0d-84fb-412d-97c8-06f7eb7f3846
🎬 Starting test session: test-1757675712534-e84jdhjc9 for feature: group-operations.api.feature
📋 Test context set: group-operations.api.feature :: api/features/client-management/groups/happy-path/group-operations.api.spec.ts (positive)
🧪 Test case: should get all clients in a group
🔄 Current step: Test Execution
🎬 Auto-context: group-operations.api.feature :: api/features/client-management/groups/happy-path/group-operations.api.spec.ts :: should get all clients in a group
🧪 Adding test context to POST /api/groups
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] POST /api/groups | X-Correlation-ID: 2d5b82e8-e213-4cfa-8ed2-e0692c832375 | Auth: Yes
✅ [ClientManagement] POST /api/groups | X-Correlation-ID: 2d5b82e8-e213-4cfa-8ed2-e0692c832375 | Success
🧪 Adding test context to POST /api/clients
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] POST /api/clients | X-Correlation-ID: 64e3687e-a615-4a37-bd18-6aae0433c591 | Auth: Yes
✅ [ClientManagement] POST /api/clients | X-Correlation-ID: 64e3687e-a615-4a37-bd18-6aae0433c591 | Success
🧪 Adding test context to POST /api/clients
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] POST /api/clients | X-Correlation-ID: 8e56d6b2-5ebc-41d0-a6bb-946742b90d4c | Auth: Yes
✅ [ClientManagement] POST /api/clients | X-Correlation-ID: 8e56d6b2-5ebc-41d0-a6bb-946742b90d4c | Success
🧪 Adding test context to POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/ea0400bf-6cee-4e60-9bec-84ff3d74ecbe
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/ea0400bf-6cee-4e60-9bec-84ff3d74ecbe | X-Correlation-ID: b352a1cd-37d4-4fdc-90fc-1f084ec0ae5a | Auth: Yes
✅ [ClientManagement] POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/ea0400bf-6cee-4e60-9bec-84ff3d74ecbe | X-Correlation-ID: b352a1cd-37d4-4fdc-90fc-1f084ec0ae5a | Success
🧪 Adding test context to POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/6eedfd63-9843-4c0a-ad7e-b433da73b21d
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/6eedfd63-9843-4c0a-ad7e-b433da73b21d | X-Correlation-ID: 8e3c7b6d-2b57-40a9-8e18-f6ab223a7e9c | Auth: Yes
✅ [ClientManagement] POST /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients/6eedfd63-9843-4c0a-ad7e-b433da73b21d | X-Correlation-ID: 8e3c7b6d-2b57-40a9-8e18-f6ab223a7e9c | Success
🧪 Adding test context to GET /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients
🧪 Test context JSON: {"featureFile":"group-operations.api.feature","scenario":"api/features/client-management/groups/happy-path/group-operations.api.spec.ts","currentStep":"Test Execution","testIntent":"positive","expectedOutcome":"2xx_success","testSessionId":"test-1757675712534-e84jdhjc9","testCase":"should get all clients in a group"}
🔍 [ClientManagement] GET /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients | X-Correlation-ID: 9692e962-5d8a-4442-bdbc-da36ebf166da | Auth: Yes
✅ [ClientManagement] GET /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05/clients | X-Correlation-ID: 9692e962-5d8a-4442-bdbc-da36ebf166da | Success
🏁 Clearing test context for session: test-1757675712534-e84jdhjc9
🔍 [ClientManagement] DELETE /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05 | X-Correlation-ID: 51827afc-5abe-49d7-af34-a313a2ada4e0 | Auth: Yes
✅ [ClientManagement] DELETE /api/groups/1793a1aa-0f40-4a76-bf4e-98a9f3dfba05 | X-Correlation-ID: 51827afc-5abe-49d7-af34-a313a2ada4e0 | Success
🧹 Cleaned up group: 1793a1aa-0f40-4a76-bf4e-98a9f3dfba05
🔍 [ClientManagement] DELETE /api/clients/ea0400bf-6cee-4e60-9bec-84ff3d74ecbe | X-Correlation-ID: 1ed06f0a-57d2-43af-b125-43df4186738f | Auth: Yes
✅ [ClientManagement] DELETE /api/clients/ea0400bf-6cee-4e60-9bec-84ff3d74ecbe | X-Correlation-ID: 1ed06f0a-57d2-43af-b125-43df4186738f | Success
🧹 Cleaned up client: ea0400bf-6cee-4e60-9bec-84ff3d74ecbe
🔍 [ClientManagement] DELETE /api/clients/6eedfd63-9843-4c0a-ad7e-b433da73b21d | X-Correlation-ID: 1f6afd7a-0a44-4351-a7d7-11dbe9b1c1c0 | Auth: Yes
✅ [ClientManagement] DELETE /api/clients/6eedfd63-9843-4c0a-ad7e-b433da73b21d | X-Correlation-ID: 1f6afd7a-0a44-4351-a7d7-11dbe9b1c1c0 | Success
🧹 Cleaned up client: 6eedfd63-9843-4c0a-ad7e-b433da73b21d
🔍 [Identity] POST /api/authentication/logout | X-Correlation-ID: 0390bb94-fcd1-493f-85d7-9fc6fda7085e | Auth: Yes
✅ [Identity] POST /api/authentication/logout | X-Correlation-ID: 0390bb94-fcd1-493f-85d7-9fc6fda7085e | Success
